<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediSoft - Software Médico Básico</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/css_pagina_principal/stilos globales.css')}}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='img/pagina_principal/icono.ico')}}" type="image/x-icon">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/css_pagina_principal/alerts.css') }}">
</head>
<body>
    <!-- Contenedor de alertas -->
    <div id="custom-alerts-container"></div>

    <!-- Mensajes flash -->
    <script id="flash-messages" type="application/json">
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {{ messages | tojson | safe }}
            {% else %}
                []
            {% endif %}
        {% endwith %}
    </script>

    <!-- Debug de mensajes flash -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <script>
                console.log('Mensajes flash disponibles:', {{ messages | tojson | safe }});
            </script>
        {% endif %}
    {% endwith %}
    <nav id="mainNavbar" class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">
                <img src="{{ url_for('static', filename='img/pagina_principal/logo-blanco.png')}}" alt="MediSoft Logo Blanco" class="logo-initial img-fluid">
                <img src="{{ url_for('static', filename='img/pagina_principal/logo-color.png')}}" alt="MediSoft Logo Color" class="logo-scrolled img-fluid">
            </a>
            <button class="navbar-toggler custom-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('nosotros') }}#wavyTimeline">Nosotros</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}#funcionalidades">Funcionalidades</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}#servicesTabs">Módulos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}#precios">Precios</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}#testimonios">Testimonios</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="{{ url_for('index') }}#contactInfoForm">Contáctanos</a>
                    </li>
                    <li class="nav-item ms-lg-4">
                        <a class="nav-link login-icon-link" href="{{ url_for('login') }}#loginSection" aria-label="Login">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
                                <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                                <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                            </svg>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <header class="main-header">
        <div class="header-content container h-100">
            <div class="row h-100 align-items-center">
                <div class="col-lg-7 text-white text-center text-lg-start mb-4 mb-lg-0">
                    <h1 class="display-3 fw-bold animate-fade-in" style="animation-delay: 0.2s;">¡Hola! Soy MediSoft</h1>
                    <h2 class="h4 fw-light mb-4 animate-fade-in" style="animation-delay: 0.4s;">Tu aliado digital para la gestión médica</h2>
                    <p class="lead mb-4 animate-fade-in" style="font-size: 1.1rem; animation-delay: 0.6s;">
                        Estoy aquí para simplificar la gestión de tu consultorio médico. Soy un software amigable y fácil de usar, diseñado especialmente para consultorios pequeños y medianos que quieren dar el salto a la digitalización sin complicaciones.
                    </p>
                    <a href="{{ url_for('index') }}#contactInfoForm" class="btn btn-custom-red rounded-pill px-4 py-2 animate-fade-in" style="animation-delay: 0.8s;">Conoce cómo puedo ayudarte</a>
                </div>
                <div class="col-lg-5 text-center animate-fade-in" style="animation-delay: 0.5s;">
                    <img src="{{ url_for('static', filename='img/pagina_principal/bn_1.png')}}" alt="Imagen de un Doctor" class="img-fluid header-doctor-image">
                </div>
            </div>
        </div>
        <div class="wave-container">
             <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
             viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
                <defs>
                    <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
                </defs>
                <g class="parallax">
                    <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7)" />
                    <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" />
                    <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" />
                    <use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" />
                </g>
            </svg>
        </div>
    </header>

    {% block content %}


    {% endblock %}

    <footer class="site-footer">
        <div class="container">
             <div class="row gy-4 gy-lg-0">
                <div class="col-lg-4 col-md-6 footer-col animate-fade-in" style="animation-delay: 0.1s;">
                    <div class="footer-widget">
                        <a class="footer-logo" href="{{ url_for('index') }}">
                            <img src="{{ url_for('static', filename='img/pagina_principal/logo-blanco.png')}}" alt="MediSoft Logo">
                        </a>
                        <p class="mt-3 mb-2 widget-description">Software médico básico para la gestión eficiente de tu consultorio.</p>
                        <div class="contact-info mt-3">
                            <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-geo-alt-fill me-2" viewBox="0 0 16 16"> <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"/> </svg>Sincelejo - Sucre</p>
                            <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill me-2" viewBox="0 0 16 16"> <path d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414zM0 4.697v7.104l5.803-3.558zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586zm3.436-.586L16 11.801V4.697z"/> </svg>contacto@MediSoft.ai</p>
                            <p><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone-fill me-2" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.68.68 0 0 0 .178.643l2.457 2.457a.68.68 0 0 0 .644.178l2.189-.547a1.75 1.75 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.6 18.6 0 0 1-7.01-4.42 18.6 18.6 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877z"/> </svg>+57 301 123 4213</p>
                        </div>
                    </div>
                </div>

                <div class="col-lg-5 col-md-6 footer-col offset-lg-1 animate-fade-in" style="animation-delay: 0.2s;">
                     <div class="footer-widget">
                        <h5 class="widget-title">Boletín de noticias</h5>
                        <p class="widget-description">Suscríbete a nuestro boletín y mantente al día con nuestras últimas novedades:</p>
                        <form action="https://formspree.io/f/mjkyqlje" method="post" class="newsletter-form mt-3">
                            <div class="input-group">
                                <input type="email" name="email" class="form-control rounded-start-pill" placeholder="Escribe tu correo electrónico..." aria-label="Correo electrónico" required>
                                <button class="btn btn-primary rounded-end-pill btn-footer-submit" type="submit">Enviar</button>
                            </div>
                        </form>
                        <div class="social-links mt-4">
                            <a href="#" class="social-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-facebook" viewBox="0 0 16 16"> <path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0 0 3.594 0 8.049c0 4.008 2.908 7.308 6.762 7.919v-5.604H4.789V8.05h1.973V6.302c0-1.958 1.167-3.028 2.954-3.028.84 0 1.56.062 1.77.09v2.15h-1.272c-.95 0-1.135.45-1.135 1.115v1.465h2.39l-.31 2.365H8.31V15.97c3.854-.61 6.762-3.91 6.762-7.92"/> </svg></a>
                            <a href="#" class="social-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-twitter-x" viewBox="0 0 16 16"> <path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.601.75Zm-.86 13.028h1.36L4.323 2.145H2.865z"/> </svg></a>
                            <a href="#" class="social-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16"> <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"/> </svg></a>
                        </div>
                    </div>
                </div>
                 <div class="col-lg-2 footer-col animate-fade-in d-none d-lg-block" style="animation-delay: 0.3s;">
                     <div class="footer-widget">
                        <h5 class="widget-title">Enlaces</h5>
                         <ul class="list-unstyled footer-links">
                            <li><a href="{{ url_for('index') }}">Inicio</a></li>
                            <li><a href="{{ url_for('nosotros') }}#wavyTimeline">Nosotros</a></li>
                            <li><a href="{{ url_for('index') }}#funcionalidades">Funcionalidades</a></li>
                            <li><a href="{{ url_for('index') }}#servicesTabs">Módulos</a></li>
                            <li><a href="{{ url_for('index') }}#precios">Precios</a></li>
                            <li><a href="{{ url_for('index') }}#testimonios">Testimonios</a></li>
                            <li><a href="{{ url_for('index') }}#contactInfoForm">Contáctanos</a></li>
                        </ul>
                    </div>
                </div>

            </div>

            <hr class="footer-divider">

            <div class="row align-items-center">
                 <div class="col-md-8 text-center text-md-start">
                    <p class="copyright-text animate-fade-in" style="animation-delay: 0.4s;"> MEDISOFT <span id="currentYear"></span>. Todos los derechos reservados.</p>
                </div>
                <div class="col-md-4 text-center text-md-end">
                    <a href="#" id="backToTopBtn" class="back-to-top animate-fade-in" style="animation-delay: 0.5s;" aria-label="Volver arriba">
                         <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi bi-arrow-up" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5"/> </svg>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/js_pagina_principal/js_global.js')}}"></script>
    <script src="{{ url_for('static', filename='js/js_pagina_principal/alerts.js') }}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            try {
                const flashElement = document.getElementById('flash-messages');
                const content = flashElement.textContent.trim();
                console.log('Contenido raw de flash-messages:', content);
                
                if (content) {
                    const messages = JSON.parse(content);
                    console.log('Mensajes flash parseados:', messages);
                    
                    if (Array.isArray(messages) && messages.length > 0) {
                        messages.forEach(([category, message]) => {
                            console.log('Mostrando alerta:', {category, message});
                            setTimeout(() => {
                                CustomAlert.show(message, category);
                            }, 100);
                        });
                    } else {
                        console.log('No hay mensajes flash para mostrar');
                    }
                } else {
                    console.log('El elemento flash-messages está vacío');
                }
            } catch (error) {
                console.error('Error al procesar mensajes flash:', error);
                console.error(error);
            }
        });
    </script>
    {% if request.endpoint == 'index' %}
    <script src="{{ url_for('static', filename='js/js_pagina_principal/funcionalidades.js')}}"></script>
    {% endif %}
</body>
</html>